{"paragraphs":[{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499241955814_1914532482","id":"20170705-180555_866554247","dateCreated":"2017-07-05T18:05:55+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:41570","text":"//A class to hold messages from the server\ncase class Message(message:String)\ncase class Result[T](message:String,results:T)\n\n//The TapIO class\ncase class TapIO(server:String = \"http://localhost:8080\") {\n    \n    //Import some helper libraries\n    import scalaj.http._    // to manage http connection to TAP\n    import org.json4s._     // to serialise and deserialise JSON\n    import org.json4s.jackson.Serialization\n    import org.json4s.jackson.Serialization.{read, write}\n    \n    implicit val defaultFormats = Serialization.formats(NoTypeHints)\n    \n    val API_VERSION = \"v2\"\n    lazy val API_URL = server+\"/\"+API_VERSION\n    lazy val HEALTH_URL = API_URL+\"/health\"\n\n    def serverDetails = Http(API_URL).asString\n\n    def getHealthMessage(debug:Boolean = false) = {\n        println(s\"Connecting to $HEALTH_URL\")\n        val response = Http(HEALTH_URL).asString\n        if(debug) println(response)\n        read[Message](response.body)\n    }\n\n    def serverIsHealthy = {\n        try { getHealthMessage().message==\"ok\" }\n        catch { case e:Exception => {\n                println(s\"There was a problem with the server: $e\")\n                false }\n        }\n    }\n    \n    def get(url:String) = {\n     val response = Http(API_URL+url).asString\n     response.body\n    }\n    \n    def post(url:String,data:String) = {\n       val response = Http(API_URL+url).postData(data).header(\"content-type\", \"application/json\").asString\n       val m = read[Result[String]](response.body)\n        m.results\n    }\n}","dateUpdated":"2017-07-05T18:44:05+1000","dateFinished":"2017-07-05T18:44:06+1000","dateStarted":"2017-07-05T18:44:05+1000","title":"Setup","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndefined class Message\n\ndefined class Result\n\ndefined class TapIO\n"}]}},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499242038405_2081653067","id":"20170705-180718_516113903","dateCreated":"2017-07-05T18:07:18+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:41843","text":"val tap = TapIO()\ntap.getHealthMessage()","dateUpdated":"2017-07-05T18:44:09+1000","dateFinished":"2017-07-05T18:44:10+1000","dateStarted":"2017-07-05T18:44:09+1000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ntap: TapIO = TapIO(http://localhost:8080)\nConnecting to http://localhost:8080/v2/health\n\nres47: Message = Message(ok)\n"}]}},{"user":"admin","config":{"colWidth":10,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499243706591_-464070062","id":"20170705-183506_181293280","dateCreated":"2017-07-05T18:35:06+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:42545","text":"val shortText = \"\"\"Here is something to clean•∞\nwith “MS Word double quotes” \nand ‘single quotes’ and Word’s apostrophe\n– and also-some different —hyphens \"\"\"","dateUpdated":"2017-07-05T18:53:52+1000","dateFinished":"2017-07-05T18:53:52+1000","dateStarted":"2017-07-05T18:53:52+1000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\nshortText: String =\n\"Here is something to clean•∞\nwith “MS Word double quotes”\nand ‘single quotes’ and Word’s apostrophe\n– and also-some different —hyphens \"\n"}]}},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499242125538_-2053335308","id":"20170705-180845_694131202","dateCreated":"2017-07-05T18:08:45+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:42080","text":"tap.post(\"/analyse/text/visible\",shortText)","dateUpdated":"2017-07-05T18:59:55+1000","dateFinished":"2017-07-05T18:59:55+1000","dateStarted":"2017-07-05T18:59:55+1000","title":"Make invisibles visible","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nres65: String = Here·is·something·to·clean��¬with·�MS·Word·double·quotes�·¬and·�single·quotes�·and·Word�s·apostrophe¬�·and·also-some·different·�hyphens·\n"}]}},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499242288122_670130301","id":"20170705-181128_2118229716","dateCreated":"2017-07-05T18:11:28+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:42259","dateUpdated":"2017-07-05T18:59:50+1000","dateFinished":"2017-07-05T18:59:51+1000","dateStarted":"2017-07-05T18:59:50+1000","title":"Clean and preserve length","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\nres64: String =\n\"Here is something to clean��\nwith �MS Word double quotes�\nand �single quotes� and Word�s apostrophe\n� and also-some different �hyphens \"\n"}]},"text":"tap.post(\"/analyse/text/cleanpreserve\",shortText)"},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499244172134_427451147","id":"20170705-184252_1538850546","dateCreated":"2017-07-05T18:42:52+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:43001","dateUpdated":"2017-07-05T18:59:41+1000","dateFinished":"2017-07-05T18:59:41+1000","dateStarted":"2017-07-05T18:59:41+1000","title":"General clean","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\nres63: String =\n\"Here is something to clean\nwith \"MS Word double quotes\"\nand 'single quotes' and Word's apostrophe\n- and also-some different -hyphens \"\n"}]},"text":"tap.post(\"/analyse/text/clean\",shortText)"},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499244394825_-964095324","id":"20170705-184634_631586469","dateCreated":"2017-07-05T18:46:34+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:43196","dateUpdated":"2017-07-05T18:59:20+1000","dateFinished":"2017-07-05T18:59:22+1000","dateStarted":"2017-07-05T18:59:20+1000","title":"Minimal clean","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\nres61: String =\n\"Here is something to clean•∞\nwith “MS Word double quotes”\nand ‘single quotes’ and Word’s apostrophe\n– and also-some different —hyphens \"\n"}]},"text":"tap.post(\"/analyse/text/cleanminimal\",shortText)"},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499244906299_-1180561170","id":"20170705-185506_1861329050","dateCreated":"2017-07-05T18:55:06+1000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:43583","dateUpdated":"2017-07-05T18:59:35+1000","dateFinished":"2017-07-05T18:59:35+1000","dateStarted":"2017-07-05T18:59:35+1000","title":"Ascii clean","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\nres62: String =\n\"Here is something to clean\nwith \"MS Word double quotes\"\nand 'single quotes' and Word's apostrophe\n- and also-some different -hyphens \"\n"}]},"text":"tap.post(\"/analyse/text/cleanascii\",shortText)"},{"user":"admin","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499244946020_-603945162","id":"20170705-185546_2059421187","dateCreated":"2017-07-05T18:55:46+1000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:43670"}],"name":"TAP-Cleaning","id":"2CP7VGY16","angularObjects":{"2CHGWK3QR:shared_process":[],"2CGJUBZ7V:shared_process":[],"2CFA6A5V1:shared_process":[],"2CEG2J2DN:shared_process":[],"2CEHG1843:shared_process":[],"2CFKZEYRE:shared_process":[],"2CHBDJGUA:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}